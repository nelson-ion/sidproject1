<?xml version="1.0" encoding="utf-8"?>
<Enactor xmlns="http://www.contexttoolkit.org/ctk" name="RoomEnactor">

	<InWidget  href="fire-sensor.xml" />
	<OutWidget href="bombeiros-widget.xml" />
	
	<OutcomeName>incendioDetectado</OutcomeName>
	
	<Reference name="Off">
		<Query name="lightOff">
			(OR
				<!-- (EQUAL presence 0) -->
				(GREATER temperatura 150)
			)
		</Query>
		<Outcome outAttribute="incendioDetectado">
			true <!-- valor original 0 (zero) -->
		</Outcome>
		<ServiceInput service="LightService" function="lightControl">
			<Attribute name="incendioDetectado" />
		</ServiceInput>
	</Reference>
	
	<Reference name="On">
		<Query name="lightOn">
			(ELSE 
				(QUERY lightOff)
			)
		</Query>
		<Outcome outAttribute="incendioDetectado">
			false <!-- 10 * Math.pow(150 - temperatura, 0.33) / Math.pow(150, 0.33); -->
		</Outcome>
		<ServiceInput service="LightService" function="lightControl">
			<Attribute name="incendioDetectado" />
		</ServiceInput>
	</Reference>
	
</Enactor>